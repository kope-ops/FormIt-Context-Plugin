<!DOCTYPE html>
<html>
<head>
    <title>3D Context Creator</title>
    <!-- interface with FormIt -->
    <script type="text/javascript" src="https://formit3d.github.io/SharedPluginUtilities/FormIt.js"></script>
    <script type="text/javascript" src="https://formit3d.github.io/SharedPluginUtilities/FormItInterface.js"></script>
    <!-- UI and styling -->
    <script src="https://cdn.jsdelivr.net/npm/osmtogeojson@3.0.0-beta.4/osmtogeojson.js"></script>
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    <script type="text/javascript" src="https://formit3d.github.io/SharedPluginUtilities/FormItPluginUI.js"></script>
    <link rel="stylesheet" type="text/css" href="https://formit3d.github.io/SharedPluginUtilities/FormItPluginStyling.css">
    <link href="plugin.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap');
    </style> 
    <!-- plugin scripts -->
    <script type="text/javascript" src="plugin.js"></script>
    <script type="text/javascript">
        FormItInterface.Initialize(async function () {

            // on location set, update the UI to capture the new location
            FormItInterface.SubscribeMessage("FormIt.Message.kSatelliteImageIsVisible", async function(msg)
            {
                await FormIt3DContextCreator.updateUI();
            });

            // on new sketch, update the UI to capture the new location
            FormItInterface.SubscribeMessage("FormIt.Message.kNewModelRequested", async function(msg)
            {
                await FormIt3DContextCreator.updateUI();
            });

            // on open file, update the UI to capture the new location
            FormItInterface.SubscribeMessage("FormIt.Message.kLoadComplete", async function(msg)
            {
                await FormIt3DContextCreator.updateUI();
            });

            // initialize the UI
            FormIt3DContextCreator.initializeUI();
            await FormIt3DContextCreator.updateUI();

        }); // DOMContentLoaded
    </script>
</head>
<body>

</body>
</html>
